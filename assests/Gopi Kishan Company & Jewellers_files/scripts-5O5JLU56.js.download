typeof Object.create!="function"&&(Object.create=function(t){function m(){}return m.prototype=t,new m}),function(t,m,c,u){var z={init:function(e,o){var i=this,n;if(i.elem=o,i.$elem=t(o),i.options=t.extend({},t.fn.ezPlus.options,i.responsiveConfig(e||{})),i.imageSrc=i.$elem.data(i.options.attrImageZoomSrc)?i.$elem.data(i.options.attrImageZoomSrc):i.$elem.attr("src"),!i.options.enabled)return;i.options.tint&&(i.options.lensColour="transparent",i.options.lensOpacity="1"),i.options.zoomType==="inner"&&(i.options.showLens=!1),i.options.zoomType==="lens"&&(i.options.zoomWindowWidth=0),i.options.zoomId===-1&&(i.options.zoomId=a()),i.$elem.parent().removeAttr("title").removeAttr("alt"),i.zoomImage=i.imageSrc,i.refresh(1),n=t(i.options.gallery?"#"+i.options.gallery:i.options.gallerySelector),n.on("click.zoom",i.options.galleryItem,function(r){if(i.options.galleryActiveClass&&(t(i.options.galleryItem,n).removeClass(i.options.galleryActiveClass),t(this).addClass(i.options.galleryActiveClass)),this.tagName==="A"&&r.preventDefault(),t(this).data(i.options.attrImageZoomSrc)?i.zoomImagePre=t(this).data(i.options.attrImageZoomSrc):i.zoomImagePre=t(this).data("image"),i.swaptheimage(t(this).data("image"),i.zoomImagePre),this.tagName==="A")return!1});function a(){var r=new Date().getTime(),h="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(s){var d=(r+Math.random()*16)%16|0;return r=Math.floor(r/16),(s=="x"?d:d&3|8).toString(16)});return h}},refresh:function(e){var o=this;setTimeout(function(){o.fetch(o.imageSrc,o.$elem,o.options.minZoomLevel)},e||o.options.refresh)},fetch:function(e,o,i){var n=this,a=new Image;a.onload=function(){a.width/o.width()<=i?n.largeWidth=o.width()*i:n.largeWidth=a.width,a.height/o.height()<=i?n.largeHeight=o.height()*i:n.largeHeight=a.height,n.startZoom(),n.currentImage=n.imageSrc,n.options.onZoomedImageLoaded(n.$elem)},n.setImageSource(a,e)},setImageSource:function(e,o){e.src=o},startZoom:function(){var e=this;e.nzWidth=e.$elem.width(),e.nzHeight=e.$elem.height(),e.isWindowActive=!1,e.isLensActive=!1,e.isTintActive=!1,e.overWindow=!1,e.options.imageCrossfade&&(e.zoomWrap=e.$elem.wrap('<div style="height:'+e.nzHeight+"px;width:"+e.nzWidth+'px;" class="zoomWrapper" />'),e.$elem.css("position","absolute")),e.zoomLock=1,e.scrollingLock=!1,e.changeBgSize=!1,e.currentZoomLevel=e.options.zoomLevel,e.updateOffset(e),e.widthRatio=e.largeWidth/e.currentZoomLevel/e.nzWidth,e.heightRatio=e.largeHeight/e.currentZoomLevel/e.nzHeight;function o(){return"display: none;position: absolute;float: left;height: "+String(e.options.zoomWindowHeight)+"px;width: "+String(e.options.zoomWindowWidth)+"px;text-align: center;border: "+String(e.options.borderSize)+"px solid "+e.options.borderColour+";background-size: "+e.largeWidth/e.currentZoomLevel+"px "+e.largeHeight/e.currentZoomLevel+"px;background-position: 0px 0px;background-repeat: no-repeat;background-color: "+String(e.options.zoomWindowBgColour)+";overflow: hidden;z-index: 100;"}e.options.zoomType==="window"&&(e.zoomWindowStyle=o());function i(){var s=e.$elem.css("border-left-width");return"display: none;position: absolute;float: left;height: "+String(e.nzHeight)+"px;width: "+String(e.nzWidth)+"px;margin-top: "+String(s)+";margin-left: "+String(s)+";border: "+String(e.options.borderSize)+"px solid "+e.options.borderColour+";background-position: 0px 0px;background-repeat: no-repeat;cursor:"+e.options.cursor+";overflow: hidden;zindex: "+e.options.zIndex+";"}e.options.zoomType==="inner"&&(e.zoomWindowStyle=i());function n(){return e.nzHeight<e.options.zoomWindowHeight/e.heightRatio?e.lensHeight=e.nzHeight:e.lensHeight=String(e.options.zoomWindowHeight/e.heightRatio),e.largeWidth<e.options.zoomWindowWidth?e.lensWidth=e.nzWidth:e.lensWidth=String(e.options.zoomWindowWidth/e.widthRatio),"display: none;position: absolute;float: right;height: "+e.lensHeight+"px;width: "+e.lensWidth+"px;border: "+e.options.lensBorderSize+"px solid "+e.options.lensBorderColour+";background-position: 0px 0px;background-repeat: no-repeat;background-color: "+e.options.lensColour+";opacity: "+e.options.lensOpacity+";filter: alpha(opacity = "+e.options.lensOpacity*100+");zoom: 1;cursor:"+e.options.cursor+";z-index: 999;overflow: hidden;"}e.options.zoomType==="window"&&(e.lensStyle=n()),e.tintStyle="display: block;position: absolute;height: "+e.nzHeight+"px;width: "+e.nzWidth+"px;background-color: "+e.options.tintColour+";filter: alpha(opacity=0);opacity: 0;",e.lensRound="",e.options.zoomType==="lens"&&(e.lensStyle="display: none;position: absolute;float: left;height:"+String(e.options.lensSize)+"px;width:"+String(e.options.lensSize)+"px;border: "+String(e.options.borderSize)+"px solid "+e.options.borderColour+";background-position: 0px 0px;background-repeat: no-repeat;background-color: "+e.options.lensColour+";cursor:"+e.options.cursor+";"),e.options.lensShape==="round"&&(e.lensRound="border-radius: "+String(e.options.lensSize/2+e.options.borderSize)+"px;"),e.zoomContainer=t('<div class="zoomContainer" uuid="'+e.options.zoomId+'"style="position: absolute;top: '+e.nzOffset.top+"px;left: "+e.nzOffset.left+"px;height: "+e.nzHeight+"px;width: "+e.nzWidth+"px;z-index: "+e.options.zIndex+'"></div>'),e.$elem.attr("id")&&e.zoomContainer.attr("id",e.$elem.attr("id")+"-zoomContainer"),t(e.options.zoomContainerAppendTo).append(e.zoomContainer),e.options.containLensZoom&&e.options.zoomType==="lens"&&e.zoomContainer.css("overflow","hidden"),e.options.zoomType!=="inner"&&(e.zoomLens=t('<div class="zoomLens" style="'+e.lensStyle+e.lensRound+'">&nbsp;</div>').appendTo(e.zoomContainer).click(function(){e.$elem.trigger("click")}),e.options.tint&&(e.tintContainer=t("<div/>").addClass("tintContainer"),e.zoomTint=t('<div class="zoomTint" style="'+e.tintStyle+'"></div>'),e.zoomLens.wrap(e.tintContainer),e.zoomTintcss=e.zoomLens.after(e.zoomTint),e.zoomTintImage=t('<img style="position: absolute;top: 0px;left: 0px;height: '+e.nzHeight+'px;" width: '+e.nzWidth+'px; max-width: none; src="'+e.$elem.attr("src")+'">').appendTo(e.zoomLens).click(function(){e.$elem.trigger("click")})));var a=isNaN(e.options.zoomWindowPosition)?"body":e.zoomContainer;e.zoomWindow=t('<div style="z-index: 999;top: '+e.windowOffsetTop+"px;left: "+e.windowOffsetLeft+"px;"+e.zoomWindowStyle+'" class="zoomWindow">&nbsp;</div>').appendTo(a).click(function(){e.$elem.trigger("click")}),e.zoomWindowContainer=t("<div/>").addClass("zoomWindowContainer").css("width",e.options.zoomWindowWidth),e.zoomWindow.wrap(e.zoomWindowContainer),e.options.zoomType==="lens"&&e.zoomLens.css("background-image",'url("'+e.imageSrc+'")'),e.options.zoomType==="window"&&e.zoomWindow.css("background-image",'url("'+e.imageSrc+'")'),e.options.zoomType==="inner"&&e.zoomWindow.css("background-image",'url("'+e.imageSrc+'")'),e.options.touchEnabled&&(e.$elem.bind("touchmove.ezpspace",function(s){s.preventDefault();var d=s.originalEvent.touches[0]||s.originalEvent.changedTouches[0];e.setPosition(d)}),e.zoomContainer.bind("touchmove.ezpspace",function(s){e.setElements("show"),s.preventDefault();var d=s.originalEvent.touches[0]||s.originalEvent.changedTouches[0];e.setPosition(d)}),e.zoomContainer.bind("touchend.ezpspace",function(s){e.showHideWindow("hide"),e.options.showLens&&e.showHideLens("hide"),e.options.tint&&e.options.zoomType!=="inner"&&e.showHideTint("hide")}),e.$elem.bind("touchend.ezpspace",function(s){e.showHideWindow("hide"),e.options.showLens&&e.showHideLens("hide"),e.options.tint&&e.options.zoomType!=="inner"&&e.showHideTint("hide")}),e.options.showLens&&(e.zoomLens.bind("touchmove.ezpspace",function(s){s.preventDefault();var d=s.originalEvent.touches[0]||s.originalEvent.changedTouches[0];e.setPosition(d)}),e.zoomLens.bind("touchend.ezpspace",function(s){e.showHideWindow("hide"),e.options.showLens&&e.showHideLens("hide"),e.options.tint&&e.options.zoomType!=="inner"&&e.showHideTint("hide")}))),e.$elem.bind("mousemove.ezpspace",function(s){e.overWindow===!1&&e.setElements("show"),(e.lastX!==s.clientX||e.lastY!==s.clientY)&&(e.setPosition(s),e.currentLoc=s),e.lastX=s.clientX,e.lastY=s.clientY}),e.zoomContainer.bind("click.ezpspace touchstart.ezpspace",e.options.onImageClick),e.zoomContainer.bind("mousemove.ezpspace",function(s){e.overWindow===!1&&e.setElements("show"),r(s)});function r(s){(e.lastX!==s.clientX||e.lastY!==s.clientY)&&(e.setPosition(s),e.currentLoc=s),e.lastX=s.clientX,e.lastY=s.clientY}var h=null;e.options.zoomType!=="inner"&&(h=e.zoomLens),e.options.tint&&e.options.zoomType!=="inner"&&(h=e.zoomTint),e.options.zoomType==="inner"&&(h=e.zoomWindow),h&&h.bind("mousemove.ezpspace",r),e.zoomContainer.add(e.$elem).mouseenter(function(){e.overWindow===!1&&e.setElements("show")}).mouseleave(function(){e.scrollLock||(e.setElements("hide"),e.options.onDestroy(e.$elem))}),e.options.zoomType!=="inner"&&e.zoomWindow.mouseenter(function(){e.overWindow=!0,e.setElements("hide")}).mouseleave(function(){e.overWindow=!1}),e.options.minZoomLevel?e.minZoomLevel=e.options.minZoomLevel:e.minZoomLevel=e.options.scrollZoomIncrement*2,e.options.scrollZoom&&e.zoomContainer.add(e.$elem).bind("wheel DOMMouseScroll MozMousePixelScroll",function(s){e.scrollLock=!0,clearTimeout(t.data(this,"timer")),t.data(this,"timer",setTimeout(function(){e.scrollLock=!1},250));var d=s.originalEvent.deltaY||s.originalEvent.detail*-1;if(s.stopImmediatePropagation(),s.stopPropagation(),s.preventDefault(),d==0)return!1;if(d/120>0){var p=parseFloat(e.currentZoomLevel)-e.options.scrollZoomIncrement;p>=parseFloat(e.minZoomLevel)&&e.changeZoomLevel(p)}else if(!e.fullheight&&!e.fullwidth||!e.options.mantainZoomAspectRatio){var p=parseFloat(e.currentZoomLevel)+e.options.scrollZoomIncrement;e.options.maxZoomLevel?p<=e.options.maxZoomLevel&&e.changeZoomLevel(p):e.changeZoomLevel(p)}return!1})},destroy:function(){var e=this;e.$elem.unbind("ezpspace"),t(e.zoomContainer).remove(),e.options.loadingIcon&&e.spinner&&e.spinner.length&&(e.spinner.remove(),delete e.spinner)},getIdentifier:function(){var e=this;return e.options.zoomId},setElements:function(e){var o=this;if(!o.options.zoomEnabled)return!1;e==="show"&&o.isWindowSet&&(o.options.zoomType==="inner"&&o.showHideWindow("show"),o.options.zoomType==="window"&&o.showHideWindow("show"),o.options.showLens&&o.showHideLens("show"),o.options.tint&&o.options.zoomType!=="inner"&&o.showHideTint("show")),e==="hide"&&(o.options.zoomType==="window"&&o.showHideWindow("hide"),o.options.tint||o.showHideWindow("hide"),o.options.showLens&&o.showHideLens("hide"),o.options.tint&&o.showHideTint("hide"))},setPosition:function(e){var o=this;if(!o.options.zoomEnabled)return!1;if(o.nzHeight=o.$elem.height(),o.nzWidth=o.$elem.width(),o.updateOffset(o),o.options.tint&&o.options.zoomType!=="inner"&&o.zoomTint.css({top:0,left:0}),o.options.responsive&&!o.options.scrollZoom&&o.options.showLens){var i,n;o.nzHeight<o.options.zoomWindowWidth/o.widthRatio?o.lensHeight=o.nzHeight:o.lensHeight=String(o.options.zoomWindowHeight/o.heightRatio),o.largeWidth<o.options.zoomWindowWidth?o.lensWidth=o.nzWidth:o.lensWidth=o.options.zoomWindowWidth/o.widthRatio,o.widthRatio=o.largeWidth/o.nzWidth,o.heightRatio=o.largeHeight/o.nzHeight,o.options.zoomType!=="lens"&&(o.nzHeight<o.options.zoomWindowWidth/o.widthRatio?o.lensHeight=o.nzHeight:o.lensHeight=String(o.options.zoomWindowHeight/o.heightRatio),o.nzWidth<o.options.zoomWindowHeight/o.heightRatio?o.lensWidth=o.nzWidth:o.lensWidth=String(o.options.zoomWindowWidth/o.widthRatio),o.zoomLens.css({width:o.lensWidth,height:o.lensHeight}),o.options.tint&&o.zoomTintImage.css({width:o.nzWidth,height:o.nzHeight})),o.options.zoomType==="lens"&&o.zoomLens.css({width:String(o.options.lensSize)+"px",height:String(o.options.lensSize)+"px"})}if(o.zoomContainer.css({top:o.nzOffset.top,left:o.nzOffset.left,width:o.nzWidth,height:o.nzHeight}),o.mouseLeft=parseInt(e.pageX-o.nzOffset.left),o.mouseTop=parseInt(e.pageY-o.nzOffset.top),o.options.zoomType==="window"){var a=o.zoomLens.height()/2,r=o.zoomLens.width()/2;o.Etoppos=o.mouseTop<0+a,o.Eboppos=o.mouseTop>o.nzHeight-a-o.options.lensBorderSize*2,o.Eloppos=o.mouseLeft<0+r,o.Eroppos=o.mouseLeft>o.nzWidth-r-o.options.lensBorderSize*2}if(o.options.zoomType==="inner"&&(o.Etoppos=o.mouseTop<o.nzHeight/2/o.heightRatio,o.Eboppos=o.mouseTop>o.nzHeight-o.nzHeight/2/o.heightRatio,o.Eloppos=o.mouseLeft<0+o.nzWidth/2/o.widthRatio,o.Eroppos=o.mouseLeft>o.nzWidth-o.nzWidth/2/o.widthRatio-o.options.lensBorderSize*2),o.mouseLeft<0||o.mouseTop<0||o.mouseLeft>o.nzWidth||o.mouseTop>o.nzHeight){o.setElements("hide");return}else o.options.showLens&&(o.lensLeftPos=String(Math.floor(o.mouseLeft-o.zoomLens.width()/2)),o.lensTopPos=String(Math.floor(o.mouseTop-o.zoomLens.height()/2))),o.Etoppos&&(o.lensTopPos=0),o.Eloppos&&(o.windowLeftPos=0,o.lensLeftPos=0,o.tintpos=0),o.options.zoomType==="window"&&(o.Eboppos&&(o.lensTopPos=Math.max(o.nzHeight-o.zoomLens.height()-o.options.lensBorderSize*2,0)),o.Eroppos&&(o.lensLeftPos=o.nzWidth-o.zoomLens.width()-o.options.lensBorderSize*2)),o.options.zoomType==="inner"&&(o.Eboppos&&(o.lensTopPos=Math.max(o.nzHeight-o.options.lensBorderSize*2,0)),o.Eroppos&&(o.lensLeftPos=o.nzWidth-o.nzWidth-o.options.lensBorderSize*2)),o.options.zoomType==="lens"&&(o.windowLeftPos=String(((e.pageX-o.nzOffset.left)*o.widthRatio-o.zoomLens.width()/2)*-1),o.windowTopPos=String(((e.pageY-o.nzOffset.top)*o.heightRatio-o.zoomLens.height()/2)*-1),o.zoomLens.css("background-position",o.windowLeftPos+"px "+o.windowTopPos+"px"),o.changeBgSize&&(o.nzHeight>o.nzWidth?(o.options.zoomType==="lens"&&o.zoomLens.css("background-size",o.largeWidth/o.newvalueheight+"px "+o.largeHeight/o.newvalueheight+"px"),o.zoomWindow.css("background-size",o.largeWidth/o.newvalueheight+"px "+o.largeHeight/o.newvalueheight+"px")):(o.options.zoomType==="lens"&&o.zoomLens.css("background-size",o.largeWidth/o.newvaluewidth+"px "+o.largeHeight/o.newvaluewidth+"px"),o.zoomWindow.css("background-size",o.largeWidth/o.newvaluewidth+"px "+o.largeHeight/o.newvaluewidth+"px")),o.changeBgSize=!1),o.setWindowPosition(e)),o.options.tint&&o.options.zoomType!=="inner"&&o.setTintPosition(e),o.options.zoomType==="window"&&o.setWindowPosition(e),o.options.zoomType==="inner"&&o.setWindowPosition(e),o.options.showLens&&(o.fullwidth&&o.options.zoomType!=="lens"&&(o.lensLeftPos=0),o.zoomLens.css({left:o.lensLeftPos+"px",top:o.lensTopPos+"px"}))},showHideZoomContainer:function(e){var o=this;e==="show"&&o.zoomContainer&&o.zoomContainer.show(),e==="hide"&&o.zoomContainer&&o.zoomContainer.hide()},showHideWindow:function(e){var o=this;e==="show"&&!o.isWindowActive&&o.zoomWindow&&(o.options.onShow(o),o.options.zoomWindowFadeIn?o.zoomWindow.stop(!0,!0,!1).fadeIn(o.options.zoomWindowFadeIn):o.zoomWindow.show(),o.isWindowActive=!0),e==="hide"&&o.isWindowActive&&(o.options.zoomWindowFadeOut?o.zoomWindow.stop(!0,!0).fadeOut(o.options.zoomWindowFadeOut,function(){o.loop&&(clearInterval(o.loop),o.loop=!1)}):o.zoomWindow.hide(),o.isWindowActive=!1)},showHideLens:function(e){var o=this;e==="show"&&(o.isLensActive||(o.zoomLens&&(o.options.lensFadeIn?o.zoomLens.stop(!0,!0,!1).fadeIn(o.options.lensFadeIn):o.zoomLens.show()),o.isLensActive=!0)),e==="hide"&&o.isLensActive&&(o.zoomLens&&(o.options.lensFadeOut?o.zoomLens.stop(!0,!0).fadeOut(o.options.lensFadeOut):o.zoomLens.hide()),o.isLensActive=!1)},showHideTint:function(e){var o=this;e==="show"&&!o.isTintActive&&o.zoomTint&&(o.options.zoomTintFadeIn?o.zoomTint.css("opacity",o.options.tintOpacity).animate().stop(!0,!0).fadeIn("slow"):(o.zoomTint.css("opacity",o.options.tintOpacity).animate(),o.zoomTint.show()),o.isTintActive=!0),e==="hide"&&o.isTintActive&&(o.options.zoomTintFadeOut?o.zoomTint.stop(!0,!0).fadeOut(o.options.zoomTintFadeOut):o.zoomTint.hide(),o.isTintActive=!1)},setLensPosition:function(e){},setWindowPosition:function(e){var o=this;if(isNaN(o.options.zoomWindowPosition))o.externalContainer=t(o.options.zoomWindowPosition),o.externalContainer.length||(o.externalContainer=t("#"+o.options.zoomWindowPosition)),o.externalContainerWidth=o.externalContainer.width(),o.externalContainerHeight=o.externalContainer.height(),o.externalContainerOffset=o.externalContainer.offset(),o.windowOffsetTop=o.externalContainerOffset.top,o.windowOffsetLeft=o.externalContainerOffset.left;else switch(o.options.zoomWindowPosition){case 1:o.windowOffsetTop=o.options.zoomWindowOffsetY,o.windowOffsetLeft=+o.nzWidth;break;case 2:o.options.zoomWindowHeight>o.nzHeight?(o.windowOffsetTop=(o.options.zoomWindowHeight/2-o.nzHeight/2)*-1,o.windowOffsetLeft=o.nzWidth):t.noop();break;case 3:o.windowOffsetTop=o.nzHeight-o.zoomWindow.height()-o.options.borderSize*2,o.windowOffsetLeft=o.nzWidth;break;case 4:o.windowOffsetTop=o.nzHeight,o.windowOffsetLeft=o.nzWidth;break;case 5:o.windowOffsetTop=o.nzHeight,o.windowOffsetLeft=o.nzWidth-o.zoomWindow.width()-o.options.borderSize*2;break;case 6:o.options.zoomWindowHeight>o.nzHeight?(o.windowOffsetTop=o.nzHeight,o.windowOffsetLeft=(o.options.zoomWindowWidth/2-o.nzWidth/2+o.options.borderSize*2)*-1):t.noop();break;case 7:o.windowOffsetTop=o.nzHeight,o.windowOffsetLeft=0;break;case 8:o.windowOffsetTop=o.nzHeight,o.windowOffsetLeft=(o.zoomWindow.width()+o.options.borderSize*2)*-1;break;case 9:o.windowOffsetTop=o.nzHeight-o.zoomWindow.height()-o.options.borderSize*2,o.windowOffsetLeft=(o.zoomWindow.width()+o.options.borderSize*2)*-1;break;case 10:o.options.zoomWindowHeight>o.nzHeight?(o.windowOffsetTop=(o.options.zoomWindowHeight/2-o.nzHeight/2)*-1,o.windowOffsetLeft=(o.zoomWindow.width()+o.options.borderSize*2)*-1):t.noop();break;case 11:o.windowOffsetTop=o.options.zoomWindowOffsetY,o.windowOffsetLeft=(o.zoomWindow.width()+o.options.borderSize*2)*-1;break;case 12:o.windowOffsetTop=(o.zoomWindow.height()+o.options.borderSize*2)*-1,o.windowOffsetLeft=(o.zoomWindow.width()+o.options.borderSize*2)*-1;break;case 13:o.windowOffsetTop=(o.zoomWindow.height()+o.options.borderSize*2)*-1,o.windowOffsetLeft=0;break;case 14:o.options.zoomWindowHeight>o.nzHeight?(o.windowOffsetTop=(o.zoomWindow.height()+o.options.borderSize*2)*-1,o.windowOffsetLeft=(o.options.zoomWindowWidth/2-o.nzWidth/2+o.options.borderSize*2)*-1):t.noop();break;case 15:o.windowOffsetTop=(o.zoomWindow.height()+o.options.borderSize*2)*-1,o.windowOffsetLeft=o.nzWidth-o.zoomWindow.width()-o.options.borderSize*2;break;case 16:o.windowOffsetTop=(o.zoomWindow.height()+o.options.borderSize*2)*-1,o.windowOffsetLeft=o.nzWidth;break;default:o.windowOffsetTop=o.options.zoomWindowOffsetY,o.windowOffsetLeft=o.nzWidth}if(o.isWindowSet=!0,o.windowOffsetTop=o.windowOffsetTop+o.options.zoomWindowOffsetY,o.windowOffsetLeft=o.windowOffsetLeft+o.options.zoomWindowOffsetX,o.zoomWindow.css({top:o.windowOffsetTop,left:o.windowOffsetLeft}),o.options.zoomType==="inner"&&o.zoomWindow.css({top:0,left:0}),o.windowLeftPos=String(((e.pageX-o.nzOffset.left)*o.widthRatio-o.zoomWindow.width()/2)*-1),o.windowTopPos=String(((e.pageY-o.nzOffset.top)*o.heightRatio-o.zoomWindow.height()/2)*-1),o.Etoppos&&(o.windowTopPos=0),o.Eloppos&&(o.windowLeftPos=0),o.Eboppos&&(o.windowTopPos=(o.largeHeight/o.currentZoomLevel-o.zoomWindow.height())*-1),o.Eroppos&&(o.windowLeftPos=(o.largeWidth/o.currentZoomLevel-o.zoomWindow.width())*-1),o.fullheight&&(o.windowTopPos=0),o.fullwidth&&(o.windowLeftPos=0),o.options.zoomType==="window"||o.options.zoomType==="inner")if(o.zoomLock===1&&(o.widthRatio<=1&&(o.windowLeftPos=0),o.heightRatio<=1&&(o.windowTopPos=0)),o.options.zoomType==="window"&&(o.largeHeight<o.options.zoomWindowHeight&&(o.windowTopPos=0),o.largeWidth<o.options.zoomWindowWidth&&(o.windowLeftPos=0)),o.options.easing){o.xp||(o.xp=0),o.yp||(o.yp=0);var i=16;Number.isInteger(parseInt(o.options.easing))&&(i=parseInt(o.options.easing)),o.loop||(o.loop=setInterval(function(){o.xp+=(o.windowLeftPos-o.xp)/o.options.easingAmount,o.yp+=(o.windowTopPos-o.yp)/o.options.easingAmount,o.scrollingLock?(clearInterval(o.loop),o.xp=o.windowLeftPos,o.yp=o.windowTopPos,o.xp=((e.pageX-o.nzOffset.left)*o.widthRatio-o.zoomWindow.width()/2)*-1,o.yp=((e.pageY-o.nzOffset.top)*o.heightRatio-o.zoomWindow.height()/2)*-1,o.changeBgSize&&(o.nzHeight>o.nzWidth?(o.options.zoomType==="lens"&&o.zoomLens.css("background-size",o.largeWidth/o.newvalueheight+"px "+o.largeHeight/o.newvalueheight+"px"),o.zoomWindow.css("background-size",o.largeWidth/o.newvalueheight+"px "+o.largeHeight/o.newvalueheight+"px")):(o.options.zoomType!=="lens"&&o.zoomLens.css("background-size",o.largeWidth/o.newvaluewidth+"px "+o.largeHeight/o.newvalueheight+"px"),o.zoomWindow.css("background-size",o.largeWidth/o.newvaluewidth+"px "+o.largeHeight/o.newvaluewidth+"px")),o.changeBgSize=!1),o.zoomWindow.css("background-position",o.windowLeftPos+"px "+o.windowTopPos+"px"),o.scrollingLock=!1,o.loop=!1):Math.round(Math.abs(o.xp-o.windowLeftPos)+Math.abs(o.yp-o.windowTopPos))<1?(clearInterval(o.loop),o.zoomWindow.css("background-position",o.windowLeftPos+"px "+o.windowTopPos+"px"),o.loop=!1):(o.changeBgSize&&(o.nzHeight>o.nzWidth?(o.options.zoomType==="lens"&&o.zoomLens.css("background-size",o.largeWidth/o.newvalueheight+"px "+o.largeHeight/o.newvalueheight+"px"),o.zoomWindow.css("background-size",o.largeWidth/o.newvalueheight+"px "+o.largeHeight/o.newvalueheight+"px")):(o.options.zoomType!=="lens"&&o.zoomLens.css("background-size",o.largeWidth/o.newvaluewidth+"px "+o.largeHeight/o.newvaluewidth+"px"),o.zoomWindow.css("background-size",o.largeWidth/o.newvaluewidth+"px "+o.largeHeight/o.newvaluewidth+"px")),o.changeBgSize=!1),o.zoomWindow.css("background-position",o.xp+"px "+o.yp+"px"))},i))}else o.changeBgSize&&(o.nzHeight>o.nzWidth?(o.options.zoomType==="lens"&&o.zoomLens.css("background-size",o.largeWidth/o.newvalueheight+"px "+o.largeHeight/o.newvalueheight+"px"),o.zoomWindow.css("background-size",o.largeWidth/o.newvalueheight+"px "+o.largeHeight/o.newvalueheight+"px")):(o.options.zoomType==="lens"&&o.zoomLens.css("background-size",o.largeWidth/o.newvaluewidth+"px "+o.largeHeight/o.newvaluewidth+"px"),o.largeHeight/o.newvaluewidth<o.options.zoomWindowHeight?o.zoomWindow.css("background-size",o.largeWidth/o.newvaluewidth+"px "+o.largeHeight/o.newvaluewidth+"px"):o.zoomWindow.css("background-size",o.largeWidth/o.newvalueheight+"px "+o.largeHeight/o.newvalueheight+"px")),o.changeBgSize=!1),o.zoomWindow.css("background-position",o.windowLeftPos+"px "+o.windowTopPos+"px")},setTintPosition:function(e){var o=this,i=o.zoomLens.width(),n=o.zoomLens.height();o.updateOffset(o),o.tintpos=String((e.pageX-o.nzOffset.left-i/2)*-1),o.tintposy=String((e.pageY-o.nzOffset.top-n/2)*-1),o.Etoppos&&(o.tintposy=0),o.Eloppos&&(o.tintpos=0),o.Eboppos&&(o.tintposy=(o.nzHeight-n-o.options.lensBorderSize*2)*-1),o.Eroppos&&(o.tintpos=(o.nzWidth-i-o.options.lensBorderSize*2)*-1),o.options.tint&&(o.fullheight&&(o.tintposy=0),o.fullwidth&&(o.tintpos=0),o.zoomTintImage.css({left:o.tintpos+"px",top:o.tintposy+"px"}))},swaptheimage:function(e,o){var i=this,n=new Image;if(i.options.loadingIcon&&!i.spinner){var a="background: url('"+i.options.loadingIcon+"') no-repeat center;height:"+i.nzHeight+"px;width:"+i.nzWidth+"px;z-index: 2000;position: absolute; background-position: center center;";i.options.zoomType==="inner"&&(a+="top: 0px;"),i.spinner=t('<div class="ezp-spinner" style="'+a+'"></div>'),i.$elem.after(i.spinner)}else i.spinner&&i.spinner.show();i.options.onImageSwap(i.$elem),n.onload=function(){i.largeWidth=n.width,i.largeHeight=n.height,i.zoomImage=o,i.zoomWindow.css("background-size",i.largeWidth+"px "+i.largeHeight+"px"),i.swapAction(e,o)},i.setImageSource(n,o)},swapAction:function(e,o){var i=this,n=i.$elem.width(),a=i.$elem.height(),r=new Image;if(r.onload=function(){i.nzHeight=r.height,i.nzWidth=r.width,i.options.onImageSwapComplete(i.$elem),i.doneCallback()},i.setImageSource(r,e),i.currentZoomLevel=i.options.zoomLevel,i.options.maxZoomLevel=!1,i.options.zoomType==="lens"&&i.zoomLens.css("background-image",'url("'+o+'")'),i.options.zoomType==="window"&&i.zoomWindow.css("background-image",'url("'+o+'")'),i.options.zoomType==="inner"&&i.zoomWindow.css("background-image",'url("'+o+'")'),i.currentImage=o,i.options.imageCrossfade){var h=i.$elem,s=h.clone();if(i.$elem.attr("src",e),i.$elem.after(s),s.stop(!0).fadeOut(i.options.imageCrossfade,function(){t(this).remove()}),i.$elem.width("auto").removeAttr("width"),i.$elem.height("auto").removeAttr("height"),h.fadeIn(i.options.imageCrossfade),i.options.tint&&i.options.zoomType!=="inner"){var d=i.zoomTintImage,p=d.clone();i.zoomTintImage.attr("src",o),i.zoomTintImage.after(p),p.stop(!0).fadeOut(i.options.imageCrossfade,function(){t(this).remove()}),d.fadeIn(i.options.imageCrossfade),i.zoomTint.css({height:a,width:n})}i.zoomContainer.css({height:a,width:n}),i.options.zoomType==="inner"&&(i.options.constrainType||(i.zoomWrap.parent().css({height:a,width:n}),i.zoomWindow.css({height:a,width:n}))),i.options.imageCrossfade&&i.zoomWrap.css({height:a,width:n})}else i.$elem.attr("src",e),i.options.tint&&(i.zoomTintImage.attr("src",o),i.zoomTintImage.attr("height",a),i.zoomTintImage.css("height",a),i.zoomTint.css("height",a)),i.zoomContainer.css({height:a,width:n}),i.options.imageCrossfade&&i.zoomWrap.css({height:a,width:n});if(i.options.constrainType){if(i.options.constrainType==="height"){var w={height:i.options.constrainSize,width:"auto"};i.zoomContainer.css(w),i.options.imageCrossfade?(i.zoomWrap.css(w),i.constwidth=i.zoomWrap.width()):(i.$elem.css(w),i.constwidth=n);var l={height:i.options.constrainSize,width:i.constwidth};i.options.zoomType==="inner"&&(i.zoomWrap.parent().css(l),i.zoomWindow.css(l)),i.options.tint&&(i.tintContainer.css(l),i.zoomTint.css(l),i.zoomTintImage.css(l))}if(i.options.constrainType==="width"){var g={height:"auto",width:i.options.constrainSize};i.zoomContainer.css(g),i.options.imageCrossfade?(i.zoomWrap.css(g),i.constheight=i.zoomWrap.height()):(i.$elem.css(g),i.constheight=a);var f={height:i.constheight,width:i.options.constrainSize};i.options.zoomType==="inner"&&(i.zoomWrap.parent().css(f),i.zoomWindow.css(f)),i.options.tint&&(i.tintContainer.css(f),i.zoomTint.css(f),i.zoomTintImage.css(f))}}},doneCallback:function(){var e=this;e.options.loadingIcon&&e.spinner&&e.spinner.length&&e.spinner.hide(),e.updateOffset(e),e.nzWidth=e.$elem.width(),e.nzHeight=e.$elem.height(),e.currentZoomLevel=e.options.zoomLevel,e.widthRatio=e.largeWidth/e.nzWidth,e.heightRatio=e.largeHeight/e.nzHeight,e.options.zoomType==="window"&&(e.nzHeight<e.options.zoomWindowHeight/e.heightRatio?e.lensHeight=e.nzHeight:e.lensHeight=String(e.options.zoomWindowHeight/e.heightRatio),e.nzWidth<e.options.zoomWindowWidth?e.lensWidth=e.nzWidth:e.lensWidth=e.options.zoomWindowWidth/e.widthRatio,e.zoomLens&&e.zoomLens.css({width:e.lensWidth,height:e.lensHeight}))},getCurrentImage:function(){var e=this;return e.zoomImage},getGalleryList:function(){var e=this;return e.gallerylist=[],e.options.gallery?t("#"+e.options.gallery+" a").each(function(){var o="";t(this).data(e.options.attrImageZoomSrc)?o=t(this).data(e.options.attrImageZoomSrc):t(this).data("image")&&(o=t(this).data("image")),o===e.zoomImage?e.gallerylist.unshift({href:""+o,title:t(this).find("img").attr("title")}):e.gallerylist.push({href:""+o,title:t(this).find("img").attr("title")})}):e.gallerylist.push({href:""+e.zoomImage,title:t(this).find("img").attr("title")}),e.gallerylist},changeZoomLevel:function(e){var o=this;o.scrollingLock=!0,o.newvalue=parseFloat(e).toFixed(2);var i=o.newvalue,n=o.largeHeight/(o.options.zoomWindowHeight/o.nzHeight*o.nzHeight),a=o.largeWidth/(o.options.zoomWindowWidth/o.nzWidth*o.nzWidth);o.options.zoomType!=="inner"&&(n<=i?(o.heightRatio=o.largeHeight/n/o.nzHeight,o.newvalueheight=n,o.fullheight=!0):(o.heightRatio=o.largeHeight/i/o.nzHeight,o.newvalueheight=i,o.fullheight=!1),a<=i?(o.widthRatio=o.largeWidth/a/o.nzWidth,o.newvaluewidth=a,o.fullwidth=!0):(o.widthRatio=o.largeWidth/i/o.nzWidth,o.newvaluewidth=i,o.fullwidth=!1),o.options.zoomType==="lens"&&(n<=i?(o.fullwidth=!0,o.newvaluewidth=n):(o.widthRatio=o.largeWidth/i/o.nzWidth,o.newvaluewidth=i,o.fullwidth=!1))),o.options.zoomType==="inner"&&(n=parseFloat(o.largeHeight/o.nzHeight).toFixed(2),a=parseFloat(o.largeWidth/o.nzWidth).toFixed(2),i>n&&(i=n),i>a&&(i=a),n<=i?(o.heightRatio=o.largeHeight/i/o.nzHeight,i>n?o.newvalueheight=n:o.newvalueheight=i,o.fullheight=!0):(o.heightRatio=o.largeHeight/i/o.nzHeight,i>n?o.newvalueheight=n:o.newvalueheight=i,o.fullheight=!1),a<=i?(o.widthRatio=o.largeWidth/i/o.nzWidth,i>a?o.newvaluewidth=a:o.newvaluewidth=i,o.fullwidth=!0):(o.widthRatio=o.largeWidth/i/o.nzWidth,o.newvaluewidth=i,o.fullwidth=!1));var r=!1;o.options.zoomType==="inner"&&(o.nzWidth>=o.nzHeight&&(o.newvaluewidth<=a?r=!0:(r=!1,o.fullheight=!0,o.fullwidth=!0)),o.nzHeight>o.nzWidth&&(o.newvaluewidth<=a?r=!0:(r=!1,o.fullheight=!0,o.fullwidth=!0))),o.options.zoomType!=="inner"&&(r=!0),r&&(o.zoomLock=0,o.changeZoom=!0,o.options.zoomWindowHeight/o.heightRatio<=o.nzHeight&&(o.currentZoomLevel=o.newvalueheight,o.options.zoomType!=="lens"&&o.options.zoomType!=="inner"&&(o.changeBgSize=!0,o.zoomLens.css("height",String(o.options.zoomWindowHeight/o.heightRatio)+"px")),(o.options.zoomType==="lens"||o.options.zoomType==="inner")&&(o.changeBgSize=!0)),o.options.zoomWindowWidth/o.widthRatio<=o.nzWidth&&(o.options.zoomType!=="inner"&&o.newvaluewidth>o.newvalueheight&&(o.currentZoomLevel=o.newvaluewidth),o.options.zoomType!=="lens"&&o.options.zoomType!=="inner"&&(o.changeBgSize=!0,o.zoomLens.css("width",String(o.options.zoomWindowWidth/o.widthRatio)+"px")),(o.options.zoomType==="lens"||o.options.zoomType==="inner")&&(o.changeBgSize=!0)),o.options.zoomType==="inner"&&(o.changeBgSize=!0,(o.nzWidth>o.nzHeight||o.nzHeight>=o.nzWidth)&&(o.currentZoomLevel=o.newvaluewidth))),o.setPosition(o.currentLoc)},closeAll:function(){var e=this;e.zoomWindow&&e.zoomWindow.hide(),e.zoomLens&&e.zoomLens.hide(),e.zoomTint&&e.zoomTint.hide()},updateOffset:function(e){e.options.zoomContainerAppendTo!="body"?(e.nzOffset=e.$elem.offset(),appendedPosition=t(e.options.zoomContainerAppendTo).offset(),e.nzOffset.top=e.$elem.offset().top-appendedPosition.top,e.nzOffset.left=e.$elem.offset().left-appendedPosition.left):e.nzOffset=e.$elem.offset()},changeState:function(e){var o=this;e==="enable"&&(o.options.zoomEnabled=!0),e==="disable"&&(o.options.zoomEnabled=!1)},responsiveConfig:function(e){return e.respond&&e.respond.length>0?t.extend({},e,this.configByScreenWidth(e)):e},configByScreenWidth:function(e){var o=t(m).width(),i=t.grep(e.respond,function(n){var a=n.range.split("-");return o>=a[0]&&o<=a[1]});return i.length>0?i[0]:e}};t.fn.ezPlus=function(e){return this.each(function(){var o=Object.create(z);o.init(e,this),t.data(this,"ezPlus",o)})},t.fn.ezPlus.options={attrImageZoomSrc:"zoom-image",borderColour:"#888",borderSize:4,constrainSize:!1,constrainType:!1,containLensZoom:!1,cursor:"inherit",debug:!1,easing:!1,easingAmount:12,enabled:!0,gallery:!1,galleryActiveClass:"zoomGalleryActive",gallerySelector:!1,galleryItem:"a",imageCrossfade:!1,lensBorderColour:"#000",lensBorderSize:1,lensColour:"white",lensFadeIn:!1,lensFadeOut:!1,lensOpacity:.4,lensShape:"square",lensSize:200,lenszoom:!1,loadingIcon:!1,mantainZoomAspectRatio:!1,maxZoomLevel:!1,minZoomLevel:1.01,onComplete:t.noop,onDestroy:t.noop,onImageClick:t.noop,onImageSwap:t.noop,onImageSwapComplete:t.noop,onShow:t.noop,onZoomedImageLoaded:t.noop,preloading:1,respond:[],responsive:!0,scrollZoom:!1,scrollZoomIncrement:.1,showLens:!0,tint:!1,tintColour:"#333",tintOpacity:.4,touchEnabled:!0,zoomActivation:"hover",zoomContainerAppendTo:"body",zoomId:-1,zoomLevel:1,zoomTintFadeIn:!1,zoomTintFadeOut:!1,zoomType:"window",zoomWindowAlwaysShow:!1,zoomWindowBgColour:"#fff",zoomWindowFadeIn:!1,zoomWindowFadeOut:!1,zoomWindowHeight:400,zoomWindowOffsetX:0,zoomWindowOffsetY:0,zoomWindowPosition:1,zoomWindowWidth:400,zoomEnabled:!0,zIndex:999}}(jQuery,window,document);
